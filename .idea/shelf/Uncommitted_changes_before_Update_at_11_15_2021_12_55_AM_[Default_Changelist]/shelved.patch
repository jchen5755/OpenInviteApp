Index: app/src/main/res/layout/fragment_profile.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <EditText\r\n        android:id=\"@+id/profile_first_name\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"fName\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.316\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/profile_last_name\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"lName\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.448\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/profile_email\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"email\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.602\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/updateEmailBtn\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Update Email\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/profile_email\"\r\n        app:layout_constraintVertical_bias=\"0.231\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/deleteAccountBtn\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:text=\"Destroy your account?\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintHorizontal_bias=\"0.498\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/updateEmailBtn\"\r\n        app:layout_constraintVertical_bias=\"0.344\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_profile.xml b/app/src/main/res/layout/fragment_profile.xml
--- a/app/src/main/res/layout/fragment_profile.xml	(revision 081ee97dc9e3d160b90e21fdbb9cc4ea2578b727)
+++ b/app/src/main/res/layout/fragment_profile.xml	(date 1636954143861)
@@ -1,65 +1,228 @@
-<?xml version="1.0" encoding="utf-8"?>
+<!--<?xml version="1.0" encoding="utf-8"?>-->
+<!--<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"-->
+<!--    xmlns:app="http://schemas.android.com/apk/res-auto"-->
+<!--    xmlns:tools="http://schemas.android.com/tools"-->
+<!--    android:layout_width="match_parent"-->
+<!--    android:layout_height="match_parent">-->
+
+<!--    <EditText-->
+<!--        android:id="@+id/profile_first_name"-->
+<!--        android:layout_width="wrap_content"-->
+<!--        android:layout_height="wrap_content"-->
+<!--        android:text=""-->
+<!--        app:layout_constraintBottom_toBottomOf="parent"-->
+<!--        app:layout_constraintEnd_toEndOf="parent"-->
+<!--        app:layout_constraintHorizontal_bias="0.498"-->
+<!--        app:layout_constraintStart_toStartOf="parent"-->
+<!--        app:layout_constraintTop_toTopOf="parent"-->
+<!--        app:layout_constraintVertical_bias="0.316" />-->
+
+<!--    <EditText-->
+<!--        android:id="@+id/profile_last_name"-->
+<!--        android:layout_width="wrap_content"-->
+<!--        android:layout_height="wrap_content"-->
+<!--        android:text=""-->
+<!--        app:layout_constraintBottom_toBottomOf="parent"-->
+<!--        app:layout_constraintEnd_toEndOf="parent"-->
+<!--        app:layout_constraintStart_toStartOf="parent"-->
+<!--        app:layout_constraintTop_toTopOf="parent"-->
+<!--        app:layout_constraintVertical_bias="0.448" />-->
+
+<!--    <EditText-->
+<!--        android:id="@+id/profile_email"-->
+<!--        android:layout_width="wrap_content"-->
+<!--        android:layout_height="wrap_content"-->
+<!--        android:text=""-->
+<!--        app:layout_constraintBottom_toBottomOf="parent"-->
+<!--        app:layout_constraintEnd_toEndOf="parent"-->
+<!--        app:layout_constraintStart_toStartOf="parent"-->
+<!--        app:layout_constraintTop_toTopOf="parent"-->
+<!--        app:layout_constraintVertical_bias="0.602" />-->
+
+<!--    <Button-->
+<!--        android:id="@+id/updateEmailBtn"-->
+<!--        android:layout_width="wrap_content"-->
+<!--        android:layout_height="wrap_content"-->
+<!--        android:text="Update Email"-->
+<!--        app:layout_constraintBottom_toBottomOf="parent"-->
+<!--        app:layout_constraintEnd_toEndOf="parent"-->
+<!--        app:layout_constraintHorizontal_bias="0.498"-->
+<!--        app:layout_constraintStart_toStartOf="parent"-->
+<!--        app:layout_constraintTop_toBottomOf="@+id/profile_email"-->
+<!--        app:layout_constraintVertical_bias="0.231" />-->
+
+<!--    <Button-->
+<!--        android:id="@+id/deleteAccountBtn"-->
+<!--        android:layout_width="wrap_content"-->
+<!--        android:layout_height="wrap_content"-->
+<!--        android:text="Destroy your account?"-->
+<!--        app:layout_constraintBottom_toBottomOf="parent"-->
+<!--        app:layout_constraintEnd_toEndOf="parent"-->
+<!--        app:layout_constraintHorizontal_bias="0.498"-->
+<!--        app:layout_constraintStart_toStartOf="parent"-->
+<!--        app:layout_constraintTop_toBottomOf="@+id/updateEmailBtn"-->
+<!--        app:layout_constraintVertical_bias="0.344" />-->
+<!--</androidx.constraintlayout.widget.ConstraintLayout>-->
+<!--    <?xml version="1.0" encoding="utf-8"?>-->
 <androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
-    xmlns:app="http://schemas.android.com/apk/res-auto"
-    xmlns:tools="http://schemas.android.com/tools"
+xmlns:app="http://schemas.android.com/apk/res-auto"
+xmlns:tools="http://schemas.android.com/tools"
+android:layout_width="match_parent"
+android:layout_height="match_parent"
+tools:context=".LoginActivity">
+<RelativeLayout
     android:layout_width="match_parent"
     android:layout_height="match_parent">
 
-    <EditText
-        android:id="@+id/profile_first_name"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="fName"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintHorizontal_bias="0.498"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.316" />
+    <ScrollView
+        android:layout_width="match_parent"
+        android:layout_height="match_parent"
+        android:fillViewport="true">
+
+        <LinearLayout
+            android:layout_width="match_parent"
+            android:layout_height="match_parent"
+            android:background="@color/white"
+            android:orientation="vertical"
+            android:paddingLeft="25dp"
+            android:paddingTop="55dp"
+            android:paddingRight="25dp">
+
+            <LinearLayout
+                android:layout_width="match_parent"
+                android:layout_height="match_parent"
+                android:orientation="vertical">
+
+                <LinearLayout
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="4dp"
+                    android:orientation="horizontal"
+                    android:layout_gravity="center_horizontal">
+
+<!--                    <ImageView-->
+<!--                        android:id="@+id/logo"-->
+<!--                        android:layout_width="60dp"-->
+<!--                        android:layout_height="wrap_content"-->
+<!--                        android:src="@drawable/ic_invitelogo"/>-->
+
+                    <TextView
+                        android:layout_width="wrap_content"
+                        android:layout_height="wrap_content"
+                        android:layout_toRightOf="@+id/logo"
+                        android:text="Profile"
+                        android:textColor="#6a4fff"
+                        android:textSize="40dp"
+                        android:textStyle="bold" />
+
+                </LinearLayout>
+
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:layout_marginTop="50dp"
+                    android:text="First Name"
+                    android:textColor="@color/black"
+                    android:textSize="18dp"
+                    android:textStyle="normal"
+                    android:layout_gravity="left"/>
+
+                <com.google.android.material.textfield.TextInputLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="70dp"
+                    android:layout_marginTop="5dp"
+                    android:layout_marginBottom="5dp"
+                    android:background="@color/white"
+                    android:gravity="bottom">
+
+                    <com.google.android.material.textfield.TextInputEditText
+                        android:id="@+id/profile_first_name"
+                        android:layout_width="match_parent"
+                        android:layout_height="wrap_content"
+                        android:hint=""
+                        android:inputType="text"
+                        android:padding="20dp"/>
+
+                </com.google.android.material.textfield.TextInputLayout>
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="Last Name"
+                    android:textColor="@color/black"
+                    android:textSize="18dp"
+                    android:textStyle="normal"
+                    android:layout_gravity="left"/>
+                <com.google.android.material.textfield.TextInputLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="70dp"
+                    android:layout_marginTop="5dp"
+                    android:layout_marginBottom="5dp"
+                    android:background="@color/white"
+                    android:gravity="bottom">
 
-    <EditText
-        android:id="@+id/profile_last_name"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="lName"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.448" />
+                    <com.google.android.material.textfield.TextInputEditText
+                        android:id="@+id/profile_last_name"
+                        android:layout_width="match_parent"
+                        android:layout_height="wrap_content"
+                        android:hint=""
+                        android:inputType="text"
+                        android:padding="20dp"/>
+
+                </com.google.android.material.textfield.TextInputLayout>
+                <TextView
+                    android:layout_width="wrap_content"
+                    android:layout_height="wrap_content"
+                    android:text="Email"
+                    android:textColor="@color/black"
+                    android:textSize="18dp"
+                    android:textStyle="normal"
+                    android:layout_gravity="left"/>
+                <com.google.android.material.textfield.TextInputLayout
+                    android:layout_width="match_parent"
+                    android:layout_height="70dp"
+                    android:layout_marginTop="5dp"
+                    android:layout_marginBottom="5dp"
+                    android:background="@color/white"
+                    android:gravity="bottom">
 
-    <EditText
-        android:id="@+id/profile_email"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="email"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toTopOf="parent"
-        app:layout_constraintVertical_bias="0.602" />
+                    <com.google.android.material.textfield.TextInputEditText
+                        android:id="@+id/profile_email"
+                        android:layout_width="match_parent"
+                        android:layout_height="wrap_content"
+                        android:hint=""
+                        android:inputType="textEmailAddress"
+                        android:padding="20dp"/>
 
-    <Button
-        android:id="@+id/updateEmailBtn"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="Update Email"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintHorizontal_bias="0.498"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toBottomOf="@+id/profile_email"
-        app:layout_constraintVertical_bias="0.231" />
+                </com.google.android.material.textfield.TextInputLayout>
+                <androidx.appcompat.widget.AppCompatButton
+                    android:id="@+id/updateBtn"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    style="@android:style/Widget.Material.Button.Borderless.Colored"
+                    android:layout_marginTop="25dp"
+                    android:layout_marginBottom="2dp"
+                    android:background="#6a4fff"
+                    android:padding="12dp"
+                    android:text="Update Account"
+                    android:textColor="@color/white"/>
 
-    <Button
-        android:id="@+id/deleteAccountBtn"
-        android:layout_width="wrap_content"
-        android:layout_height="wrap_content"
-        android:text="Destroy your account?"
-        app:layout_constraintBottom_toBottomOf="parent"
-        app:layout_constraintEnd_toEndOf="parent"
-        app:layout_constraintHorizontal_bias="0.498"
-        app:layout_constraintStart_toStartOf="parent"
-        app:layout_constraintTop_toBottomOf="@+id/updateEmailBtn"
-        app:layout_constraintVertical_bias="0.344" />
+                <androidx.appcompat.widget.AppCompatButton
+                    android:id="@+id/deleteAccountBtn"
+                    android:layout_width="match_parent"
+                    android:layout_height="wrap_content"
+                    style="@android:style/Widget.Material.Button.Borderless.Colored"
+                    android:layout_marginTop="10dp"
+                    android:layout_marginBottom="2dp"
+                    android:background="#6a4fff"
+                    android:padding="12dp"
+                    android:text="Delete Account"
+                    android:textColor="@color/white"/>
+
+            </LinearLayout>
+
+        </LinearLayout>
+
+    </ScrollView>
+
+</RelativeLayout>
 </androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
Index: app/src/main/java/com/example/openinvitetest/ProfileFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.openinvitetest;\r\n\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\n\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DataSnapshot;\r\nimport com.google.firebase.database.DatabaseError;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.google.firebase.database.ValueEventListener;\r\n\r\npublic class ProfileFragment extends Fragment implements View.OnClickListener {\r\n\r\n    private EditText mFirstName, mLastName, mEmail;\r\n    private Button mUpdateEmail, mDeleteAcct;\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseUser user;\r\n    private FragmentManager fm;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View v = inflater.inflate(R.layout.fragment_profile, container, false);\r\n        fm = getParentFragmentManager();\r\n        mFirstName = v.findViewById(R.id.profile_first_name);\r\n        mLastName = v.findViewById(R.id.profile_last_name);\r\n        mEmail = v.findViewById(R.id.profile_email);\r\n        mUpdateEmail = v.findViewById(R.id.updateEmailBtn);\r\n        mDeleteAcct = v.findViewById(R.id.deleteAccountBtn);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        user = FirebaseAuth.getInstance().getCurrentUser();\r\n        mEmail.setText(user.getEmail());\r\n        String userId = mAuth.getCurrentUser().getUid();\r\n        DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child(\"Users\").child((userId));\r\n        currentUserDb.addListenerForSingleValueEvent(new ValueEventListener() {\r\n            @Override\r\n            public void onDataChange(@NonNull DataSnapshot snapshot) {\r\n//                Log.d(\"ree\", snapshot.getValue().toString());\r\n                mFirstName.setText(snapshot.child(\"firstName\").getValue().toString());\r\n                mLastName.setText(snapshot.child(\"lastName\").getValue().toString());\r\n\r\n            }\r\n\r\n            @Override\r\n            public void onCancelled(@NonNull DatabaseError error) {\r\n\r\n            }\r\n        });\r\n        if (mUpdateEmail != null) {\r\n            mUpdateEmail.setOnClickListener(this);\r\n        }\r\n        if (mDeleteAcct != null) {\r\n            mDeleteAcct.setOnClickListener(this);\r\n        }\r\n//        mFirstName.setText((CharSequence) currentUserDb.child(\"lastName\"));\r\n//        mFirstName.setText(user.getEmail());\r\n        return v;\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View v) {\r\n        final int viewId = v.getId();\r\n        if (viewId == mUpdateEmail.getId()) {\r\n            user.updateEmail(mEmail.getText().toString());\r\n            Toast.makeText(getContext(), \"Email Successfully Updated!\", Toast.LENGTH_SHORT);\r\n            user.sendEmailVerification();\r\n        } else if (viewId == mDeleteAcct.getId()) {\r\n            String userId = mAuth.getCurrentUser().getUid();\r\n            DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child(\"Users\").child((userId));\r\n            currentUserDb.removeValue();\r\n            user.delete();\r\n            Toast.makeText(getContext(), \"Account Destroyed!\", Toast.LENGTH_SHORT);\r\n            fm.beginTransaction()\r\n                    .replace(R.id.fragment_container, new MainFragment())\r\n                    .commit();\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/openinvitetest/ProfileFragment.java b/app/src/main/java/com/example/openinvitetest/ProfileFragment.java
--- a/app/src/main/java/com/example/openinvitetest/ProfileFragment.java	(revision 081ee97dc9e3d160b90e21fdbb9cc4ea2578b727)
+++ b/app/src/main/java/com/example/openinvitetest/ProfileFragment.java	(date 1636955712722)
@@ -14,7 +14,6 @@
 import androidx.fragment.app.Fragment;
 import androidx.fragment.app.FragmentManager;
 
-import com.google.android.gms.tasks.Task;
 import com.google.firebase.auth.FirebaseAuth;
 import com.google.firebase.auth.FirebaseUser;
 import com.google.firebase.database.DataSnapshot;
@@ -23,10 +22,13 @@
 import com.google.firebase.database.FirebaseDatabase;
 import com.google.firebase.database.ValueEventListener;
 
+import java.util.HashMap;
+import java.util.Map;
+
 public class ProfileFragment extends Fragment implements View.OnClickListener {
-
+    private final String TAG = getClass().getSimpleName();
     private EditText mFirstName, mLastName, mEmail;
-    private Button mUpdateEmail, mDeleteAcct;
+    private Button mUpdateProfile, mDeleteAcct;
     private FirebaseAuth mAuth;
     private FirebaseUser user;
     private FragmentManager fm;
@@ -39,20 +41,19 @@
         mFirstName = v.findViewById(R.id.profile_first_name);
         mLastName = v.findViewById(R.id.profile_last_name);
         mEmail = v.findViewById(R.id.profile_email);
-        mUpdateEmail = v.findViewById(R.id.updateEmailBtn);
+        mUpdateProfile = v.findViewById(R.id.updateBtn);
         mDeleteAcct = v.findViewById(R.id.deleteAccountBtn);
         mAuth = FirebaseAuth.getInstance();
         user = FirebaseAuth.getInstance().getCurrentUser();
-        mEmail.setText(user.getEmail());
+        mEmail.setHint(user.getEmail());
         String userId = mAuth.getCurrentUser().getUid();
         DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child("Users").child((userId));
         currentUserDb.addListenerForSingleValueEvent(new ValueEventListener() {
             @Override
             public void onDataChange(@NonNull DataSnapshot snapshot) {
 //                Log.d("ree", snapshot.getValue().toString());
-                mFirstName.setText(snapshot.child("firstName").getValue().toString());
-                mLastName.setText(snapshot.child("lastName").getValue().toString());
-
+                mFirstName.setHint(snapshot.child("firstName").getValue().toString());
+                mLastName.setHint(snapshot.child("lastName").getValue().toString());
             }
 
             @Override
@@ -60,8 +61,8 @@
 
             }
         });
-        if (mUpdateEmail != null) {
-            mUpdateEmail.setOnClickListener(this);
+        if (mUpdateProfile != null) {
+            mUpdateProfile.setOnClickListener(this);
         }
         if (mDeleteAcct != null) {
             mDeleteAcct.setOnClickListener(this);
@@ -74,13 +75,27 @@
     @Override
     public void onClick(View v) {
         final int viewId = v.getId();
-        if (viewId == mUpdateEmail.getId()) {
-            user.updateEmail(mEmail.getText().toString());
-            Toast.makeText(getContext(), "Email Successfully Updated!", Toast.LENGTH_SHORT);
-            user.sendEmailVerification();
+        String userId = mAuth.getCurrentUser().getUid();
+        DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child("Users").child((userId));
+        Map userInfo = new HashMap<>();
+        if (viewId == mUpdateProfile.getId()) {
+            Log.d(TAG, "TEST: "+mEmail.getText().toString());
+            if (!mEmail.getText().toString().isEmpty()) {
+                user.updateEmail(mEmail.getText().toString());
+                user.sendEmailVerification();
+            }
+            if (!mFirstName.getText().toString().isEmpty()) {
+                userInfo.put("firstName", mFirstName.getText().toString());
+            }
+            if (!mLastName.getText().toString().isEmpty()) {
+                userInfo.put("lastName", mLastName.getText().toString());
+            }
+            currentUserDb.updateChildren(userInfo);
+            Toast.makeText(getContext(), "Email Successfully Updated!", Toast.LENGTH_SHORT);
+//            fm.beginTransaction()
+//                    .replace(R.id.fragment_container, new ProfileFragment())
+//                    .commit();
         } else if (viewId == mDeleteAcct.getId()) {
-            String userId = mAuth.getCurrentUser().getUid();
-            DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child("Users").child((userId));
             currentUserDb.removeValue();
             user.delete();
             Toast.makeText(getContext(), "Account Destroyed!", Toast.LENGTH_SHORT);
Index: app/src/main/java/com/example/openinvitetest/CreateInviteFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.openinvitetest;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationListener;\r\nimport android.location.LocationManager;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.core.app.ActivityCompat;\r\nimport androidx.fragment.app.Fragment;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.google.firebase.database.DatabaseReference;\r\nimport com.google.firebase.database.FirebaseDatabase;\r\nimport com.mapbox.android.core.permissions.PermissionsManager;\r\n\r\nimport java.util.HashMap;\r\nimport java.util.Map;\r\n\r\nimport timber.log.Timber;\r\n\r\npublic class CreateInviteFragment extends Fragment implements View.OnClickListener {\r\n    private Button mCreateInvite;\r\n    private EditText mInviteTitle, mInviteDescription;\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseAuth.AuthStateListener firebaseAuthStateListener;\r\n    public double latitude;\r\n    public double longitude;\r\n    public LocationManager locationManager;\r\n    private PermissionsManager mPermissionsManager;\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n        View v = inflater.inflate(R.layout.fragment_create_invite, container, false);\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mCreateInvite = v.findViewById(R.id.createInviteButton);\r\n        mInviteTitle = v.findViewById(R.id.inviteTitle);\r\n        mInviteDescription = v.findViewById(R.id.inviteDesc);\r\n        if (mCreateInvite != null) {\r\n            mCreateInvite.setOnClickListener(this);\r\n        }\r\n        firebaseAuthStateListener = new FirebaseAuth.AuthStateListener() {\r\n            @Override\r\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n                final FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();\r\n//                if (user !=  null && user.isEmailVerified()) {\r\n//                    Intent i = new Intent(RegisterFragment.this, ProfileActivity.class);\r\n//                    startActivity(i);\r\n//                    finish();\r\n//                    return;\r\n//                }\r\n            }\r\n        };\r\n        return v;\r\n    }\r\n\r\n    private void requestLocation() {\r\n        Timber.d(\"requestLocation()\");\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\r\n            if (!PermissionsManager.areLocationPermissionsGranted(getContext())) {\r\n                int PERMISSION_REQUEST_LOCATION = 1;\r\n//                mPermissionsManager = new PermissionsManager(this);\r\n//                mPermissionsManager.requestLocationPermissions(getActivity());\r\n            } else {\r\n                doRequestLocation();\r\n            }\r\n        } else {\r\n            doRequestLocation();\r\n        }\r\n    }\r\n\r\n    private void doRequestLocation() {\r\n        locationManager = (LocationManager) this.getContext().getSystemService(Context.LOCATION_SERVICE);\r\n        @SuppressLint(\"MissingPermission\") Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);\r\n        if (location != null) {\r\n            Log.e(\"TAG\", \"GPS is on\");\r\n            latitude = location.getLatitude();\r\n            longitude = location.getLongitude();\r\n        } else {\r\n            //This is what you need:\r\n            if (ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {\r\n                // TODO: Consider calling\r\n                //    ActivityCompat#requestPermissions\r\n                // here to request the missing permissions, and then overriding\r\n                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,\r\n                //                                          int[] grantResults)\r\n                // to handle the case where the user grants the permission. See the documentation\r\n                // for ActivityCompat#requestPermissions for more details.\r\n                return;\r\n            }\r\n            locationManager.requestLocationUpdates(Context.LOCATION_SERVICE, 1000, 0, (LocationListener) this);\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        final int viewId = view.getId();\r\n        if (viewId == mCreateInvite.getId()) {\r\n            final String title = mInviteTitle.getText().toString();\r\n            final String description = mInviteDescription.getText().toString();\r\n            doRequestLocation();\r\n            String userId = mAuth.getCurrentUser().getUid();\r\n            DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child(\"Invites\").child((userId));\r\n            Map userInfo = new HashMap<>();\r\n            userInfo.put(\"lat\", latitude);\r\n            userInfo.put(\"lng\", longitude);\r\n            userInfo.put(\"title\", title);\r\n            userInfo.put(\"description\", description);\r\n            currentUserDb.updateChildren(userInfo);\r\n\r\n        }\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/openinvitetest/CreateInviteFragment.java b/app/src/main/java/com/example/openinvitetest/CreateInviteFragment.java
--- a/app/src/main/java/com/example/openinvitetest/CreateInviteFragment.java	(revision 081ee97dc9e3d160b90e21fdbb9cc4ea2578b727)
+++ b/app/src/main/java/com/example/openinvitetest/CreateInviteFragment.java	(date 1636951625936)
@@ -113,19 +113,18 @@
     @Override
     public void onClick(View view) {
         final int viewId = view.getId();
+        String userId = mAuth.getCurrentUser().getUid();
+        DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child("Invites").child((userId));
         if (viewId == mCreateInvite.getId()) {
             final String title = mInviteTitle.getText().toString();
             final String description = mInviteDescription.getText().toString();
             doRequestLocation();
-            String userId = mAuth.getCurrentUser().getUid();
-            DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child("Invites").child((userId));
             Map userInfo = new HashMap<>();
             userInfo.put("lat", latitude);
             userInfo.put("lng", longitude);
             userInfo.put("title", title);
             userInfo.put("description", description);
             currentUserDb.updateChildren(userInfo);
-
         }
     }
 }
Index: app/src/main/java/com/example/openinvitetest/mainMapFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+>package com.example.openinvitetest;\r\n\r\nimport android.Manifest;\r\nimport android.annotation.SuppressLint;\r\nimport android.content.Context;\r\nimport android.content.Intent;\r\nimport android.content.pm.PackageManager;\r\nimport android.location.Location;\r\nimport android.location.LocationRequest;\r\nimport android.os.Build;\r\nimport android.os.Bundle;\r\nimport android.os.Looper;\r\nimport android.util.Log;\r\nimport android.view.LayoutInflater;\r\nimport android.view.View;\r\nimport android.view.ViewGroup;\r\nimport android.widget.Button;\r\nimport android.widget.EditText;\r\nimport android.widget.ImageButton;\r\nimport android.widget.TextView;\r\nimport android.widget.Toast;\r\n\r\nimport androidx.annotation.NonNull;\r\nimport androidx.annotation.Nullable;\r\nimport androidx.annotation.RequiresApi;\r\nimport androidx.fragment.app.Fragment;\r\nimport androidx.fragment.app.FragmentManager;\r\n\r\nimport com.mapbox.android.core.location.LocationEngine;\r\nimport com.mapbox.android.core.location.LocationEngineCallback;\r\nimport com.mapbox.android.core.location.LocationEngineProvider;\r\nimport com.mapbox.android.core.location.LocationEngineRequest;\r\nimport com.mapbox.android.core.location.LocationEngineResult;\r\nimport com.mapbox.android.core.permissions.PermissionsListener;\r\nimport com.mapbox.android.core.permissions.PermissionsManager;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.OnSymbolClickListener;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.Symbol;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.SymbolManager;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.SymbolOptions;\r\n\r\n//import com.google.android.gms.maps.MapView;\r\n//import com.mapbox.mapboxsdk.Mapbox;\r\n//import com.mapbox.mapboxsdk.maps.MapboxMap;\r\n//import com.mapbox.mapboxsdk.maps.Style;\r\n//import com.mapbox.mapboxsdk.maps.UiSettings;\r\n\r\nimport com.mapbox.mapboxsdk.Mapbox;\r\nimport com.mapbox.mapboxsdk.geometry.LatLng;\r\nimport com.mapbox.mapboxsdk.maps.MapView;\r\nimport com.mapbox.mapboxsdk.maps.MapboxMap;\r\nimport com.mapbox.mapboxsdk.maps.OnMapReadyCallback;\r\nimport com.mapbox.mapboxsdk.maps.Style;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.OnSymbolDragListener;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.OnSymbolLongClickListener;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.SymbolManager;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.SymbolOptions;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.Symbol;\r\nimport com.mapbox.mapboxsdk.plugins.annotation.OnSymbolClickListener;\r\n\r\nimport com.google.android.gms.tasks.OnCompleteListener;\r\nimport com.google.android.gms.tasks.Task;\r\nimport com.google.firebase.auth.AuthResult;\r\nimport com.google.firebase.auth.FirebaseAuth;\r\nimport com.google.firebase.auth.FirebaseUser;\r\nimport com.mapbox.mapboxsdk.Mapbox;\r\nimport com.mapbox.mapboxsdk.annotations.MarkerOptions;\r\nimport com.mapbox.mapboxsdk.camera.CameraUpdateFactory;\r\nimport com.mapbox.mapboxsdk.geometry.LatLng;\r\nimport com.mapbox.mapboxsdk.location.LocationComponent;\r\nimport com.mapbox.mapboxsdk.location.LocationComponentActivationOptions;\r\nimport com.mapbox.mapboxsdk.maps.MapView;\r\nimport com.mapbox.mapboxsdk.maps.MapboxMap;\r\nimport com.mapbox.mapboxsdk.maps.OnMapReadyCallback;\r\nimport com.mapbox.mapboxsdk.maps.Style;\r\nimport com.mapbox.mapboxsdk.maps.UiSettings;\r\nimport com.mapbox.mapboxsdk.style.expressions.Expression;\r\nimport com.mapbox.mapboxsdk.style.layers.Property;\r\nimport com.mapbox.mapboxsdk.style.sources.GeoJsonOptions;\r\nimport com.mapbox.mapboxsdk.utils.BitmapUtils;\r\nimport com.mapbox.mapboxsdk.utils.ColorUtils;\r\n\r\nimport java.util.List;\r\nimport java.util.Objects;\r\nimport java.util.zip.Inflater;\r\n\r\nimport timber.log.Timber;\r\n\r\npublic class mainMapFragment extends Fragment implements LocationEngineCallback<LocationEngineResult>,\r\n        PermissionsListener, View.OnClickListener {\r\n    private final String TAG = getClass().getSimpleName();\r\n\r\n    private Button mCreateInvite, mUserInvite, mProfile, mMyLocation;\r\n    private MapView mMapView;\r\n    private MapboxMap mMapboxMap;\r\n    private FirebaseAuth mAuth;\r\n    private FirebaseAuth.AuthStateListener firebaseAuthStateListener;\r\n    private FragmentManager fm;\r\n    private PermissionsManager mPermissionsManager;\r\n    private LocationEngine mLocationEngine;\r\n\r\n    private SymbolManager symbolManager;\r\n    private Symbol symbol;\r\n\r\n    private final String ID_ICON_MARKER = \"marker\";\r\n\r\n    @Nullable\r\n    @Override\r\n    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {\r\n\r\n        View v = inflater.inflate(R.layout.fragment_main_map, container, false);\r\n\r\n        mMapView = v.findViewById(R.id.mainMapContainer);\r\n        mMapView.onCreate(savedInstanceState);\r\n        mMapView.getMapAsync(mapboxMap -> {\r\n            mMapboxMap = mapboxMap;\r\n            mMapboxMap.setStyle(Style.MAPBOX_STREETS, style -> {\r\n                UiSettings uiSettings = mMapboxMap.getUiSettings();\r\n                uiSettings.setCompassEnabled(true);\r\n                uiSettings.setZoomGesturesEnabled(true);\r\n                enableLocationComponent();\r\n                addMarkerImageToStyle(style);\r\n\r\n                GeoJsonOptions geoJsonOptions = new GeoJsonOptions().withTolerance(0.4f);\r\n                symbolManager = new SymbolManager(mMapView, mMapboxMap, style, null, geoJsonOptions);\r\n\r\n                //Symbol options stuff\r\n                symbolManager.setIconAllowOverlap(true);\r\n                symbolManager.setTextAllowOverlap(true);\r\n            });\r\n        });\r\n\r\n        mAuth = FirebaseAuth.getInstance();\r\n        mProfile = v.findViewById(R.id.profileBtn);\r\n        mCreateInvite = v.findViewById(R.id.createInvite);\r\n        mUserInvite = v.findViewById(R.id.userInvite);\r\n        mMyLocation = v.findViewById(R.id.myLocationBtn);\r\n        fm = getParentFragmentManager();\r\n\r\n        if (mProfile != null) {\r\n            mProfile.setOnClickListener(this);\r\n        }\r\n        if (mCreateInvite != null) {\r\n            mCreateInvite.setOnClickListener(this);\r\n        }\r\n        if (mUserInvite != null) {\r\n            mUserInvite.setOnClickListener(this);\r\n        }if (mMyLocation != null) {\r\n            mMyLocation.setOnClickListener(this);\r\n        }\r\n        firebaseAuthStateListener = new FirebaseAuth.AuthStateListener() {\r\n            @Override\r\n            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {\r\n            }\r\n        };\r\n        Log.d(TAG, \"On Create View portion of Fragment Lifecycle\");\r\n        return v;\r\n    }\r\n\r\n    @SuppressWarnings({\"MissingPermission\"})\r\n    private void enableLocationComponent() {\r\n        // Check if permissions are enabled and if not request\r\n        if (PermissionsManager.areLocationPermissionsGranted(getContext())) {\r\n            LocationComponent locationComponent = mMapboxMap.getLocationComponent();\r\n            LocationComponentActivationOptions.Builder builder =\r\n                    new LocationComponentActivationOptions.Builder(getContext(),\r\n                            Objects.requireNonNull(mMapboxMap.getStyle()));\r\n            builder.useDefaultLocationEngine(true);\r\n            LocationComponentActivationOptions options = builder.build();\r\n            locationComponent.activateLocationComponent(options);\r\n        } else {\r\n            mPermissionsManager = new PermissionsManager(this);\r\n            mPermissionsManager.requestLocationPermissions(getActivity());\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onClick(View view) {\r\n        final int viewId = view.getId();\r\n        if (viewId == R.id.profileBtn) {\r\n            fm.beginTransaction()\r\n                    .replace(R.id.fragment_container, new ProfileFragment())\r\n                    .addToBackStack(\"profile_fragment\")\r\n                    .commit();\r\n        } else if (viewId == R.id.myLocationBtn) {\r\n            requestLocation();\r\n        } else if (viewId == R.id.createInvite) {\r\n            fm.beginTransaction()\r\n                    .replace(R.id.fragment_container, new CreateInviteFragment())\r\n                    .addToBackStack(\"profile_fragment\")\r\n                    .commit();\r\n        }\r\n    }\r\n\r\n    @Override\r\n    public void onStart() {\r\n        super.onStart();\r\n        mAuth.addAuthStateListener(firebaseAuthStateListener);\r\n    }\r\n\r\n    @Override\r\n    public void onStop() {\r\n        super.onStop();\r\n        mAuth.removeAuthStateListener(firebaseAuthStateListener);\r\n    }\r\n\r\n    private void requestLocation() {\r\n        Timber.d(\"requestLocation()\");\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\r\n            if (!PermissionsManager.areLocationPermissionsGranted(getContext())) {\r\n                int PERMISSION_REQUEST_LOCATION = 1;\r\n                mPermissionsManager = new PermissionsManager(this);\r\n                mPermissionsManager.requestLocationPermissions(getActivity());\r\n            } else {\r\n                doRequestLocation();\r\n            }\r\n        } else {\r\n            doRequestLocation();\r\n        }\r\n    }\r\n\r\n    private void doRequestLocation() {\r\n        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {\r\n            mLocationEngine = initializeLocationEngine();\r\n        }\r\n    }\r\n\r\n    private void setCameraPosition(Location location) {\r\n        mMapboxMap.animateCamera(CameraUpdateFactory.newLatLngZoom(\r\n                new LatLng(location.getLatitude(), location.getLongitude()), 16));\r\n    }\r\n\r\n    @SuppressLint(\"MissingPermission\")\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    private LocationEngine initializeLocationEngine() {\r\n        LocationEngine locationEngine = LocationEngineProvider.getBestLocationEngine(getContext());\r\n        LocationEngineRequest.Builder locRequestBuilder = new LocationEngineRequest.Builder(60000);\r\n//        locRequestBuilder.setPriority(LocationRequest.PRIORITY_BALANCED_POWER_ACCURACY);\r\n        LocationEngineRequest locRequest = locRequestBuilder.build();\r\n\r\n        if (hasLocationPermission()) {\r\n            locationEngine.requestLocationUpdates(locRequest, this, Looper.getMainLooper());\r\n        }\r\n\r\n        return locationEngine;\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    private boolean lacksLocationPermission() {\r\n        return !PermissionsManager.areLocationPermissionsGranted(getContext());\r\n    }\r\n\r\n    @RequiresApi(api = Build.VERSION_CODES.M)\r\n    private boolean hasLocationPermission() {\r\n        return PermissionsManager.areLocationPermissionsGranted(getContext());\r\n    }\r\n\r\n    @Override\r\n    public void onSuccess(LocationEngineResult result) {\r\n        Location location = result.getLastLocation();\r\n        if (location != null) {\r\n            setCameraPosition(location);\r\n            //This creates a symbol at your location, TESTING PURPOSES\r\n            SymbolOptions symbolOptions = new SymbolOptions()\r\n                    .withLatLng(new LatLng(location.getLatitude(), location.getLongitude()))\r\n                    .withIconImage(ID_ICON_MARKER)\r\n                    .withIconSize(1.3f)\r\n                    .withSymbolSortKey(10.0f)\r\n                    .withDraggable(false);\r\n            symbol = symbolManager.create(symbolOptions);\r\n\r\n            symbolManager.addClickListener(new OnSymbolClickListener() {\r\n                @Override\r\n                public boolean onAnnotationClick(Symbol symbol) {\r\n                    Toast.makeText(getContext(), \"Marker clicked\", Toast.LENGTH_SHORT).show();\r\n                    return true;\r\n                }\r\n            });\r\n\r\n            Timber.e(symbol.toString());\r\n        }\r\n    }\r\n\r\n    private void addMarkerImageToStyle(Style style) {\r\n        style.addImage(ID_ICON_MARKER,\r\n                BitmapUtils.getBitmapFromDrawable(getResources().getDrawable(R.drawable.ic_marker)),\r\n                true);\r\n    }\r\n\r\n//    @RequiresApi(api = Build.VERSION_CODES.M)\r\n//    private boolean lacksLocationPermission() {\r\n//        return checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION)\r\n//                != PackageManager.PERMISSION_GRANTED;\r\n//    }\r\n//\r\n//    @RequiresApi(api = Build.VERSION_CODES.M)\r\n//    private boolean hasLocationPermission() {\r\n//        return checkSelfPermission(Manifest.permission.ACCESS_FINE_LOCATION)\r\n//                == PackageManager.PERMISSION_GRANTED;\r\n//    }\r\n\r\n    //TODO\r\n\r\n    @Override\r\n    public void onExplanationNeeded(List<String> permissionsToExplain) {\r\n\r\n    }\r\n\r\n    @Override\r\n    public void onPermissionResult(boolean granted) {\r\n\r\n    }\r\n\r\n\r\n\r\n    @Override\r\n    public void onFailure(@NonNull Exception exception) {\r\n\r\n    }\r\n}\r\n
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/openinvitetest/mainMapFragment.java b/app/src/main/java/com/example/openinvitetest/mainMapFragment.java
--- a/app/src/main/java/com/example/openinvitetest/mainMapFragment.java	(revision 081ee97dc9e3d160b90e21fdbb9cc4ea2578b727)
+++ b/app/src/main/java/com/example/openinvitetest/mainMapFragment.java	(date 1636951783247)
@@ -188,6 +188,11 @@
                     .replace(R.id.fragment_container, new CreateInviteFragment())
                     .addToBackStack("profile_fragment")
                     .commit();
+        } else if (viewId == R.id.userInvite) {
+            fm.beginTransaction()
+                    .replace(R.id.fragment_container, new InviteFragment())
+                    .addToBackStack("profile_fragment")
+                    .commit();
         }
     }
 
Index: app/src/main/res/layout/fragment_create_invite.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"utf-8\"?>\r\n<androidx.constraintlayout.widget.ConstraintLayout xmlns:android=\"http://schemas.android.com/apk/res/android\"\r\n    xmlns:app=\"http://schemas.android.com/apk/res-auto\"\r\n    xmlns:tools=\"http://schemas.android.com/tools\"\r\n    android:layout_width=\"match_parent\"\r\n    android:layout_height=\"match_parent\">\r\n\r\n    <EditText\r\n        android:id=\"@+id/inviteTitle\"\r\n        android:layout_width=\"285dp\"\r\n        android:layout_height=\"48dp\"\r\n        android:text=\"Title\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toTopOf=\"parent\"\r\n        app:layout_constraintVertical_bias=\"0.245\" />\r\n\r\n    <EditText\r\n        android:id=\"@+id/inviteDesc\"\r\n        android:layout_width=\"285dp\"\r\n        android:layout_height=\"194dp\"\r\n        android:text=\"Description\"\r\n        android:gravity=\"top\"\r\n        app:layout_constraintBottom_toTopOf=\"@+id/createInviteButton\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\"\r\n        app:layout_constraintTop_toBottomOf=\"@+id/inviteTitle\" />\r\n\r\n    <Button\r\n        android:id=\"@+id/createInviteButton\"\r\n        android:layout_width=\"wrap_content\"\r\n        android:layout_height=\"wrap_content\"\r\n        android:layout_marginBottom=\"192dp\"\r\n        android:text=\"Create\"\r\n        app:layout_constraintBottom_toBottomOf=\"parent\"\r\n        app:layout_constraintEnd_toEndOf=\"parent\"\r\n        app:layout_constraintStart_toStartOf=\"parent\" />\r\n</androidx.constraintlayout.widget.ConstraintLayout>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_create_invite.xml b/app/src/main/res/layout/fragment_create_invite.xml
--- a/app/src/main/res/layout/fragment_create_invite.xml	(revision 081ee97dc9e3d160b90e21fdbb9cc4ea2578b727)
+++ b/app/src/main/res/layout/fragment_create_invite.xml	(date 1636950257152)
@@ -9,7 +9,7 @@
         android:id="@+id/inviteTitle"
         android:layout_width="285dp"
         android:layout_height="48dp"
-        android:text="Title"
+        android:text=""
         app:layout_constraintBottom_toBottomOf="parent"
         app:layout_constraintEnd_toEndOf="parent"
         app:layout_constraintStart_toStartOf="parent"
@@ -20,7 +20,7 @@
         android:id="@+id/inviteDesc"
         android:layout_width="285dp"
         android:layout_height="194dp"
-        android:text="Description"
+        android:text=""
         android:gravity="top"
         app:layout_constraintBottom_toTopOf="@+id/createInviteButton"
         app:layout_constraintEnd_toEndOf="parent"
Index: .idea/misc.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/drawable-v24/ic_launcher_foreground.xml\" value=\"0.346875\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/drawable/ic_invitelogo.xml\" value=\"0.346875\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/drawable/ic_launcher_background.xml\" value=\"0.346875\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/drawable/ic_marker.xml\" value=\"0.346875\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/activity_fragment.xml\" value=\"0.490036231884058\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/activity_login.xml\" value=\"0.490036231884058\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/activity_register.xml\" value=\"0.32708333333333334\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/fragment_choose_login_and_reg.xml\" value=\"0.490036231884058\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/fragment_login.xml\" value=\"0.5541666666666667\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/fragment_main_map.xml\" value=\"0.33\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/fragment_profile.xml\" value=\"0.3307291666666667\" />\r\n        <entry key=\"..\\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/fragment_register.xml\" value=\"0.3307291666666667\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/drawable/ic_invitelogo.xml\" value=\"0.4203125\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/drawable/ic_launcher_background.xml\" value=\"0.4203125\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/activity_choose_login_and_reg.xml\" value=\"0.4\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/activity_fragment.xml\" value=\"0.19832826747720364\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/activity_login.xml\" value=\"0.4041666666666667\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/activity_main.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/activity_register.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_create_invite.xml\" value=\"0.2635416666666667\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_main_map.xml\" value=\"0.40353260869565216\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_profile.xml\" value=\"0.264\" />\r\n        <entry key=\"..\\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_register.xml\" value=\"0.21354166666666666\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ExternalStorageConfigurationManager\" enabled=\"true\" />\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" default=\"true\" project-jdk-name=\"11\" project-jdk-type=\"JavaSDK\" />\r\n  <component name=\"VisualizationToolProject\">\r\n    <option name=\"state\">\r\n      <ProjectState>\r\n        <option name=\"scale\" value=\"0.264\" />\r\n      </ProjectState>\r\n    </option>\r\n  </component>\r\n</project>
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/.idea/misc.xml b/.idea/misc.xml
--- a/.idea/misc.xml	(revision 081ee97dc9e3d160b90e21fdbb9cc4ea2578b727)
+++ b/.idea/misc.xml	(date 1636952292133)
@@ -3,10 +3,6 @@
   <component name="DesignSurface">
     <option name="filePathToZoomLevelMap">
       <map>
-        <entry key="..\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/drawable-v24/ic_launcher_foreground.xml" value="0.346875" />
-        <entry key="..\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/drawable/ic_invitelogo.xml" value="0.346875" />
-        <entry key="..\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/drawable/ic_launcher_background.xml" value="0.346875" />
-        <entry key="..\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/drawable/ic_marker.xml" value="0.346875" />
         <entry key="..\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/activity_fragment.xml" value="0.490036231884058" />
         <entry key="..\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/activity_login.xml" value="0.490036231884058" />
         <entry key="..\:/Documents/College/2021SeniorYear/Autumn/CSE5236/OpenInviteApp/app/src/main/res/layout/activity_register.xml" value="0.32708333333333334" />
@@ -22,7 +18,10 @@
         <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/activity_login.xml" value="0.4041666666666667" />
         <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/activity_main.xml" value="0.264" />
         <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/activity_register.xml" value="0.264" />
+        <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_choose_login_and_reg.xml" value="0.2563405797101449" />
         <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_create_invite.xml" value="0.2635416666666667" />
+        <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_invite.xml" value="0.2078125" />
+        <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_login.xml" value="0.2563405797101449" />
         <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_main_map.xml" value="0.40353260869565216" />
         <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_profile.xml" value="0.264" />
         <entry key="..\:/Users/Jerry/StudioProjects/OpenInviteAppTest/app/src/main/res/layout/fragment_register.xml" value="0.21354166666666666" />
Index: app/src/main/java/com/example/openinvitetest/InviteFragment.java
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/java/com/example/openinvitetest/InviteFragment.java b/app/src/main/java/com/example/openinvitetest/InviteFragment.java
new file mode 100644
--- /dev/null	(date 1636954658622)
+++ b/app/src/main/java/com/example/openinvitetest/InviteFragment.java	(date 1636954658622)
@@ -0,0 +1,146 @@
+package com.example.openinvitetest;
+
+import android.Manifest;
+import android.annotation.SuppressLint;
+import android.content.Context;
+import android.content.pm.PackageManager;
+import android.location.Location;
+import android.location.LocationListener;
+import android.location.LocationManager;
+import android.os.Build;
+import android.os.Bundle;
+import android.util.Log;
+import android.view.LayoutInflater;
+import android.view.View;
+import android.view.ViewGroup;
+import android.widget.Button;
+import android.widget.EditText;
+
+import androidx.annotation.NonNull;
+import androidx.annotation.Nullable;
+import androidx.core.app.ActivityCompat;
+import androidx.fragment.app.Fragment;
+
+import com.google.firebase.auth.FirebaseAuth;
+import com.google.firebase.auth.FirebaseUser;
+import com.google.firebase.database.DataSnapshot;
+import com.google.firebase.database.DatabaseError;
+import com.google.firebase.database.DatabaseReference;
+import com.google.firebase.database.FirebaseDatabase;
+import com.google.firebase.database.ValueEventListener;
+import com.mapbox.android.core.permissions.PermissionsManager;
+
+import java.util.HashMap;
+import java.util.Map;
+
+import timber.log.Timber;
+
+public class InviteFragment extends Fragment implements View.OnClickListener {
+    private Button mDeleteInvite;
+    private EditText mInviteTitle, mInviteDescription;
+    private FirebaseAuth mAuth;
+    private FirebaseUser user;
+    private FirebaseAuth.AuthStateListener firebaseAuthStateListener;
+    public double latitude;
+    public double longitude;
+    public LocationManager locationManager;
+    private PermissionsManager mPermissionsManager;
+
+    @Nullable
+    @Override
+    public View onCreateView(@NonNull LayoutInflater inflater, @Nullable ViewGroup container, @Nullable Bundle savedInstanceState) {
+        View v = inflater.inflate(R.layout.fragment_invite, container, false);
+        mAuth = FirebaseAuth.getInstance();
+        mDeleteInvite = v.findViewById(R.id.deleteInviteButton);
+        mInviteTitle = v.findViewById(R.id.inviteTitle);
+        mInviteDescription = v.findViewById(R.id.inviteDesc);
+        user = FirebaseAuth.getInstance().getCurrentUser();
+        if (mDeleteInvite != null) {
+            mDeleteInvite.setOnClickListener(this);
+        }
+        String userId = mAuth.getCurrentUser().getUid();
+        DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child("Invites").child((userId));
+        currentUserDb.addListenerForSingleValueEvent(new ValueEventListener() {
+            @Override
+            public void onDataChange(@NonNull DataSnapshot snapshot) {
+                mInviteTitle.setText(snapshot.child("title").getValue().toString());
+                mInviteDescription.setText(snapshot.child("description").getValue().toString());
+
+            }
+
+            @Override
+            public void onCancelled(@NonNull DatabaseError error) {
+
+            }
+        });
+        firebaseAuthStateListener = new FirebaseAuth.AuthStateListener() {
+            @Override
+            public void onAuthStateChanged(@NonNull FirebaseAuth firebaseAuth) {
+                final FirebaseUser user = FirebaseAuth.getInstance().getCurrentUser();
+//                if (user !=  null && user.isEmailVerified()) {
+//                    Intent i = new Intent(RegisterFragment.this, ProfileActivity.class);
+//                    startActivity(i);
+//                    finish();
+//                    return;
+//                }
+            }
+        };
+        return v;
+    }
+
+    private void requestLocation() {
+        Timber.d("requestLocation()");
+        if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.M) {
+            if (!PermissionsManager.areLocationPermissionsGranted(getContext())) {
+                int PERMISSION_REQUEST_LOCATION = 1;
+//                mPermissionsManager = new PermissionsManager(this);
+//                mPermissionsManager.requestLocationPermissions(getActivity());
+            } else {
+                doRequestLocation();
+            }
+        } else {
+            doRequestLocation();
+        }
+    }
+
+    private void doRequestLocation() {
+        locationManager = (LocationManager) this.getContext().getSystemService(Context.LOCATION_SERVICE);
+        @SuppressLint("MissingPermission") Location location = locationManager.getLastKnownLocation(LocationManager.GPS_PROVIDER);
+        if (location != null) {
+            Log.e("TAG", "GPS is on");
+            latitude = location.getLatitude();
+            longitude = location.getLongitude();
+        } else {
+            //This is what you need:
+            if (ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_FINE_LOCATION) != PackageManager.PERMISSION_GRANTED && ActivityCompat.checkSelfPermission(getContext(), Manifest.permission.ACCESS_COARSE_LOCATION) != PackageManager.PERMISSION_GRANTED) {
+                // TODO: Consider calling
+                //    ActivityCompat#requestPermissions
+                // here to request the missing permissions, and then overriding
+                //   public void onRequestPermissionsResult(int requestCode, String[] permissions,
+                //                                          int[] grantResults)
+                // to handle the case where the user grants the permission. See the documentation
+                // for ActivityCompat#requestPermissions for more details.
+                return;
+            }
+            locationManager.requestLocationUpdates(Context.LOCATION_SERVICE, 1000, 0, (LocationListener) this);
+        }
+    }
+
+    @Override
+    public void onClick(View view) {
+        final int viewId = view.getId();
+        if (viewId == mDeleteInvite.getId()) {
+            final String title = mInviteTitle.getText().toString();
+            final String description = mInviteDescription.getText().toString();
+            doRequestLocation();
+            String userId = mAuth.getCurrentUser().getUid();
+            DatabaseReference currentUserDb = FirebaseDatabase.getInstance().getReference().child("Invites").child((userId));
+            Map userInfo = new HashMap<>();
+            userInfo.put("lat", latitude);
+            userInfo.put("lng", longitude);
+            userInfo.put("title", title);
+            userInfo.put("description", description);
+            currentUserDb.updateChildren(userInfo);
+        }
+    }
+}
Index: app/src/main/res/layout/fragment_invite.xml
IDEA additional info:
Subsystem: com.intellij.openapi.diff.impl.patch.CharsetEP
<+>UTF-8
===================================================================
diff --git a/app/src/main/res/layout/fragment_invite.xml b/app/src/main/res/layout/fragment_invite.xml
new file mode 100644
--- /dev/null	(date 1636951061616)
+++ b/app/src/main/res/layout/fragment_invite.xml	(date 1636951061616)
@@ -0,0 +1,40 @@
+<?xml version="1.0" encoding="utf-8"?>
+<androidx.constraintlayout.widget.ConstraintLayout xmlns:android="http://schemas.android.com/apk/res/android"
+    xmlns:app="http://schemas.android.com/apk/res-auto"
+    xmlns:tools="http://schemas.android.com/tools"
+    android:layout_width="match_parent"
+    android:layout_height="match_parent">
+
+    <EditText
+        android:id="@+id/inviteTitle"
+        android:layout_width="285dp"
+        android:layout_height="48dp"
+        android:text=""
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toTopOf="parent"
+        app:layout_constraintVertical_bias="0.245" />
+
+    <EditText
+        android:id="@+id/inviteDesc"
+        android:layout_width="285dp"
+        android:layout_height="194dp"
+        android:text=""
+        android:gravity="top"
+        app:layout_constraintBottom_toTopOf="@+id/deleteInviteButton"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent"
+        app:layout_constraintTop_toBottomOf="@+id/inviteTitle" />
+
+    <Button
+        android:id="@+id/deleteInviteButton"
+        android:layout_width="wrap_content"
+        android:layout_height="wrap_content"
+        android:layout_marginBottom="192dp"
+        android:text="Delete"
+        app:layout_constraintBottom_toBottomOf="parent"
+        app:layout_constraintEnd_toEndOf="parent"
+        app:layout_constraintStart_toStartOf="parent" />
+
+</androidx.constraintlayout.widget.ConstraintLayout>
\ No newline at end of file
